<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶Æ‡¶æ‡¶≤‡ßü ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333333;
            --primary-color: #2563eb;
            --secondary-color: #10b981;
            --border-color: #e5e7eb;
            --hover-bg: #f3f4f6;
        }

        [data-theme="dark"] {
            --bg-color: #111827;
            --card-bg: #1f2937;
            --text-color: #f9fafb;
            --primary-color: #3b82f6;
            --secondary-color: #10b981;
            --border-color: #374151;
            --hover-bg: #374151;
        }

        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg-color); color: var(--text-color); margin: 0; padding: 20px; transition: 0.3s; }
        .container { max-width: 650px; margin: auto; background: var(--card-bg); padding: 25px; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); transition: 0.3s; }
        
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 2px solid var(--border-color); padding-bottom: 15px; }
        .header h2 { margin: 0; font-size: 22px; }
        .theme-btn { background: none; border: none; font-size: 24px; color: var(--text-color); cursor: pointer; }

        .tabs { display: flex; gap: 10px; margin-bottom: 20px; background: var(--bg-color); padding: 5px; border-radius: 10px; }
        .tab-btn { flex: 1; padding: 10px; border: none; background: transparent; color: var(--text-color); font-weight: bold; border-radius: 8px; cursor: pointer; transition: 0.2s; }
        .tab-btn.active { background: var(--primary-color); color: white; }

        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* Translator Styles */
        .input-box { position: relative; margin-bottom: 15px; }
        textarea { width: 100%; height: 120px; padding: 15px; padding-right: 45px; font-size: 16px; background: var(--bg-color); color: var(--text-color); border: 1px solid var(--border-color); border-radius: 12px; box-sizing: border-box; resize: none; outline: none; transition: 0.3s; }
        textarea:focus { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2); }
        .mic-btn { position: absolute; right: 15px; bottom: 15px; background: none; border: none; color: #ef4444; font-size: 22px; cursor: pointer; }
        
        .btn-translate { width: 100%; padding: 14px; background-color: var(--primary-color); color: white; border: none; border-radius: 12px; cursor: pointer; font-size: 18px; font-weight: bold; transition: 0.2s; }
        .btn-translate:hover { opacity: 0.9; }

        .result-box { margin-top: 20px; padding: 20px; background: var(--hover-bg); border-radius: 12px; position: relative; min-height: 80px; border-left: 5px solid var(--primary-color); }
        .result-text { font-size: 20px; font-weight: bold; margin-bottom: 10px; padding-right: 60px; word-wrap: break-word; }
        .action-btns { position: absolute; right: 15px; top: 15px; }
        .action-btns button { background: none; border: none; font-size: 20px; cursor: pointer; margin-left: 10px; color: var(--text-color); opacity: 0.7; }
        .action-btns button:hover { opacity: 1; color: var(--primary-color); }
        .loading { display: none; text-align: center; color: var(--primary-color); margin-top: 10px; font-weight: bold; }

        /* Phrase & Dictionary Styles */
        .category-title { font-size: 18px; font-weight: bold; margin: 20px 0 10px 0; color: var(--secondary-color); }
        .phrase-list { list-style: none; padding: 0; margin: 0; }
        .phrase-item { background: var(--hover-bg); padding: 12px 15px; margin-bottom: 8px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--border-color); }
        .phrase-bn { font-size: 14px; color: var(--text-color); opacity: 0.8; margin-bottom: 4px; display: block; }
        .phrase-ms { font-size: 16px; font-weight: bold; color: var(--primary-color); display: block; }
        .phrase-item i { cursor: pointer; color: var(--text-color); opacity: 0.6; }
        .phrase-item i:hover { color: var(--primary-color); opacity: 1; }

        .dict-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .dict-card { background: var(--hover-bg); padding: 15px; border-radius: 8px; text-align: center; border: 1px solid var(--border-color); }
        .dict-ms { font-size: 18px; font-weight: bold; color: var(--primary-color); }
        .dict-bn { font-size: 14px; color: var(--text-color); opacity: 0.8; margin-top: 5px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h2>üá≤üáæ ‡¶Æ‡¶æ‡¶≤‡ßü ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶™‡ßç‡¶∞‡ßã</h2>
        <button class="theme-btn" onclick="toggleTheme()" id="themeIcon"><i class="fas fa-moon"></i></button>
    </div>

    <div class="tabs">
        <button class="tab-btn active" onclick="openTab('translator')">‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡¶ï</button>
        <button class="tab-btn" onclick="openTab('phrases')">‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞‡¶ø ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø</button>
        <button class="tab-btn" onclick="openTab('dictionary')">‡¶ï‡¶•‡ßç‡¶Ø ‡¶∂‡¶∞‡ßç‡¶ü‡¶ï‡¶æ‡¶ü</button>
    </div>

    <div id="translator" class="tab-content active">
        <div class="input-box">
            <textarea id="bengaliText" placeholder="‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡ßü ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."></textarea>
            <button class="mic-btn" onclick="startDictation()"><i class="fas fa-microphone"></i></button>
        </div>
        <button class="btn-translate" onclick="translateText()">‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <div class="loading" id="loadingText">‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®...</div>
        
        <div class="result-box">
            <div style="font-size: 12px; opacity: 0.7; margin-bottom: 5px;">‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ (‡¶´‡¶∞‡¶Æ‡¶æ‡¶≤):</div>
            <div class="result-text" id="malayResult">‡¶´‡¶≤‡¶æ‡¶´‡¶≤...</div>
            <div class="action-btns">
                <button onclick="speakMalay(document.getElementById('malayResult').innerText)"><i class="fas fa-volume-up"></i></button>
                <button onclick="copyText(document.getElementById('malayResult').innerText)"><i class="fas fa-copy"></i></button>
            </div>
        </div>
    </div>

    <div id="phrases" class="tab-content">
        <div class="category-title"><i class="fas fa-briefcase"></i> ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü (Tempat Kerja)</div>
        <ul class="phrase-list">
            <li class="phrase-item">
                <div>
                    <span class="phrase-bn">‡¶¨‡¶∏, ‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶ú ‡¶ì‡¶≠‡¶æ‡¶∞‡¶ü‡¶æ‡¶á‡¶Æ ‡¶ï‡¶∞‡¶¨‡•§</span>
                    <span class="phrase-ms">Bos, hari ini saya nak buat OT.</span>
                </div>
                <i class="fas fa-volume-up" onclick="speakMalay('Bos, hari ini saya nak buat OT.')"></i>
            </li>
            <li class="phrase-item">
                <div>
                    <span class="phrase-bn">‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ‡¶ï‡¶æ‡¶≤ ‡¶õ‡ßÅ‡¶ü‡¶ø ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá‡•§</span>
                    <span class="phrase-ms">Esok saya nak cuti.</span>
                </div>
                <i class="fas fa-volume-up" onclick="speakMalay('Esok saya nak cuti.')"></i>
            </li>
            <li class="phrase-item">
                <div>
                    <span class="phrase-bn">‡¶ï‡¶æ‡¶ú ‡¶∂‡ßá‡¶∑, ‡¶Ü‡¶Æ‡¶ø ‡¶è‡¶ñ‡¶® ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶¨‡•§</span>
                    <span class="phrase-ms">Kerja dah siap, saya nak balik.</span>
                </div>
                <i class="fas fa-volume-up" onclick="speakMalay('Kerja dah siap, saya nak balik.')"></i>
            </li>
        </ul>

        <div class="category-title"><i class="fas fa-shopping-cart"></i> ‡¶ï‡ßá‡¶®‡¶æ‡¶ï‡¶æ‡¶ü‡¶æ ‡¶ì ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ (Pasar)</div>
        <ul class="phrase-list">
            <li class="phrase-item">
                <div>
                    <span class="phrase-bn">‡¶≠‡¶æ‡¶á, ‡¶è‡¶ü‡¶æ‡¶∞ ‡¶¶‡¶æ‡¶Æ ‡¶ï‡¶§?</span>
                    <span class="phrase-ms">Bang, ini berapa harga?</span>
                </div>
                <i class="fas fa-volume-up" onclick="speakMalay('Bang, ini berapa harga?')"></i>
            </li>
            <li class="phrase-item">
                <div>
                    <span class="phrase-bn">‡¶è‡¶ï‡¶ü‡ßÅ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶ï‡¶ø?</span>
                    <span class="phrase-ms">Boleh kurang sikit tak?</span>
                </div>
                <i class="fas fa-volume-up" onclick="speakMalay('Boleh kurang sikit tak?')"></i>
            </li>
        </ul>

        <div class="category-title"><i class="fas fa-notes-medical"></i> ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶ì ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø (Kecemasan)</div>
        <ul class="phrase-list">
            <li class="phrase-item">
                <div>
                    <span class="phrase-bn">‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∂‡¶∞‡ßÄ‡¶∞ ‡¶ñ‡¶æ‡¶∞‡¶æ‡¶™ ‡¶≤‡¶æ‡¶ó‡¶õ‡ßá‡•§</span>
                    <span class="phrase-ms">Saya rasa tak sihat.</span>
                </div>
                <i class="fas fa-volume-up" onclick="speakMalay('Saya rasa tak sihat.')"></i>
            </li>
            <li class="phrase-item">
                <div>
                    <span class="phrase-bn">‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶®‡¶ø‡¶ï‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§</span>
                    <span class="phrase-ms">Saya kena pergi klinik.</span>
                </div>
                <i class="fas fa-volume-up" onclick="speakMalay('Saya kena pergi klinik.')"></i>
            </li>
        </ul>
    </div>

    <div id="dictionary" class="tab-content">
        <p style="font-size: 14px; opacity: 0.8; margin-top: 0;">‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º‡¶∞‡¶æ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶® ‡¶Ø‡ßá ‡¶∂‡¶∞‡ßç‡¶ü‡¶ï‡¶æ‡¶ü ‡¶∂‡¶¨‡ßç‡¶¶‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá:</p>
        <div class="dict-grid">
            <div class="dict-card">
                <div class="dict-ms">Nak</div>
                <div class="dict-bn">‡¶ö‡¶æ‡¶á (Mahu ‡¶è‡¶∞ ‡¶∂‡¶∞‡ßç‡¶ü‡¶ï‡¶æ‡¶ü)</div>
            </div>
            <div class="dict-card">
                <div class="dict-ms">Tak</div>
                <div class="dict-bn">‡¶®‡¶æ (Tidak ‡¶è‡¶∞ ‡¶∂‡¶∞‡ßç‡¶ü‡¶ï‡¶æ‡¶ü)</div>
            </div>
            <div class="dict-card">
                <div class="dict-ms">Kat mana</div>
                <div class="dict-bn">‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º (Di mana)</div>
            </div>
            <div class="dict-card">
                <div class="dict-ms">Dah</div>
                <div class="dict-bn">‡¶π‡¶Ø‡¶º‡ßá ‡¶ó‡ßá‡¶õ‡ßá (Sudah)</div>
            </div>
            <div class="dict-card">
                <div class="dict-ms">Jom</div>
                <div class="dict-bn">‡¶ö‡¶≤‡ßÅ‡¶® ‡¶Ø‡¶æ‡¶á (Mari)</div>
            </div>
            <div class="dict-card">
                <div class="dict-ms">Macam mana / Camne</div>
                <div class="dict-bn">‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá (Bagaimana)</div>
            </div>
            <div class="dict-card">
                <div class="dict-ms">Pigi / Pi</div>
                <div class="dict-bn">‡¶Ø‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ (Pergi)</div>
            </div>
            <div class="dict-card">
                <div class="dict-ms">Boleh</div>
                <div class="dict-bn">‡¶™‡¶æ‡¶∞‡¶æ / ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨</div>
            </div>
        </div>
    </div>
</div>

<script>
    // Tab Switching Logic
    function openTab(tabName) {
        document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        document.getElementById(tabName).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    // Dark Mode Logic
    function toggleTheme() {
        const body = document.body;
        const icon = document.getElementById('themeIcon');
        if (body.getAttribute('data-theme') === 'dark') {
            body.removeAttribute('data-theme');
            icon.innerHTML = '<i class="fas fa-moon"></i>';
        } else {
            body.setAttribute('data-theme', 'dark');
            icon.innerHTML = '<i class="fas fa-sun" style="color:#facc15;"></i>';
        }
    }

    // Translation Logic (API)
    async function translateText() {
        const text = document.getElementById('bengaliText').value;
        const resultBox = document.getElementById('malayResult');
        const loadingText = document.getElementById('loadingText');

        if (!text.trim()) return;

        loadingText.style.display = "block";
        resultBox.innerText = "";

        try {
            const response = await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=bn&tl=ms&dt=t&q=${encodeURIComponent(text)}`);
            const data = await response.json();
            
            let translatedText = "";
            data[0].forEach(item => { translatedText += item[0]; });

            resultBox.innerText = translatedText;
        } catch (error) {
            resultBox.innerText = "‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡¶∂‡¶® ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§";
            resultBox.style.color = "red";
        } finally {
            loadingText.style.display = "none";
        }
    }

    // Voice Input Logic
    function startDictation() {
        if (window.hasOwnProperty('webkitSpeechRecognition')) {
            var recognition = new webkitSpeechRecognition();
            recognition.lang = "bn-BD";
            recognition.start();
            recognition.onresult = function(e) {
                document.getElementById('bengaliText').value = e.results[0][0].transcript;
                recognition.stop();
                translateText();
            };
        } else {
            alert("‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≠‡¶Ø‡¶º‡ßá‡¶∏ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡•§");
        }
    }

    // Text to Speech Logic
    function speakMalay(text) {
        if (!text || text === "‡¶´‡¶≤‡¶æ‡¶´‡¶≤...") return;
        var msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'ms-MY';
        window.speechSynthesis.speak(msg);
    }

    // Copy Text Logic
    function copyText(text) {
        if (!text || text === "‡¶´‡¶≤‡¶æ‡¶´‡¶≤...") return;
        navigator.clipboard.writeText(text).then(() => {
            alert("‡¶≤‡ßá‡¶ñ‡¶æ‡¶ü‡¶ø ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!");
        });
    }
</script>

</body>
</html>
